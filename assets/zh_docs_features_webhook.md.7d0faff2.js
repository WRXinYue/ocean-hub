import{_ as s,C as a,o as r,c,H as t,Q as i,k as e,a as n}from"./chunks/framework.8f83280a.js";const E=JSON.parse('{"title":"网络钩子","description":"","frontmatter":{},"headers":[],"relativePath":"zh/docs/features/webhook.md","filePath":"zh/docs/features/webhook.md","lastUpdated":1695022576000}'),l={name:"zh/docs/features/webhook.md"},d=i('<h1 id="网络钩子" tabindex="-1">网络钩子 <a class="header-anchor" href="#网络钩子" aria-label="Permalink to &quot;网络钩子&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>该功能从 Ocean 12.109.0 版开始提供。</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>这是一项试验性功能，可能不稳定或将来会有变化。</p></div><p>Ocean 提供网络钩子，让您可以实时接收来自 Ocean 的各种事件。</p><p>您可以进入 &quot;设置&quot;&gt;&quot;网络钩子 &quot;管理网络钩子。</p><p>注册 Webhook 后，每次发生指定事件时，都会向指定 URL 发送 HTTP 请求。请求方法将是 POST，正文中包含 JSON。 此外，请求头还将包含注册时设置的密文，名称为 &quot;X-Ocean-Hook-Secret&quot;。你可以使用该秘密验证请求是否合法。</p><p>有效载荷将包含以下属性。</p>',7),h=e("p",null,"如果目标服务器返回 5XX 错误或没有响应，请求会在延迟一段时间后重新发送。",-1),p=e("p",null,"Webhooks 可以通过管理屏幕单独更改其激活状态，以暂时停止发送请求。",-1),_=e("h2",{id:"事件",tabindex:"-1"},[n("事件 "),e("a",{class:"header-anchor",href:"#事件","aria-label":'Permalink to "事件"'},"​")],-1),u=e("p",null,"以下是每种事件类型的说明和有效载荷。",-1),m=e("h3",{id:"关注",tabindex:"-1"},[n("关注 "),e("a",{class:"header-anchor",href:"#关注","aria-label":'Permalink to "关注"'},"​")],-1),b=e("p",null,"当您关注某人时发生。",-1),f=e("h3",{id:"followed",tabindex:"-1"},[n("followed "),e("a",{class:"header-anchor",href:"#followed","aria-label":'Permalink to "followed"'},"​")],-1),y=e("p",null,"Occurs when you are followed by someone.",-1),k=e("h3",{id:"unfollow",tabindex:"-1"},[n("unfollow "),e("a",{class:"header-anchor",href:"#unfollow","aria-label":'Permalink to "unfollow"'},"​")],-1),w=e("p",null,"Occurs when you unfollow someone.",-1),P=e("h3",{id:"note",tabindex:"-1"},[n("note "),e("a",{class:"header-anchor",href:"#note","aria-label":'Permalink to "note"'},"​")],-1),O=e("p",null,"Occurs when you post a note.",-1),T=e("h3",{id:"reply",tabindex:"-1"},[n("reply "),e("a",{class:"header-anchor",href:"#reply","aria-label":'Permalink to "reply"'},"​")],-1),N=e("p",null,"Occurs when someone has replied to your note.",-1),x=e("h3",{id:"renote",tabindex:"-1"},[n("renote "),e("a",{class:"header-anchor",href:"#renote","aria-label":'Permalink to "renote"'},"​")],-1),I=e("p",null,"Occurs when your note is renoted.",-1),v=e("h3",{id:"mention",tabindex:"-1"},[n("mention "),e("a",{class:"header-anchor",href:"#mention","aria-label":'Permalink to "mention"'},"​")],-1),j=e("p",null,"Occurs when someone has mentioned you.",-1);function $(g,S,U,q,V,D){const o=a("MkSchemaViewerItemObject");return r(),c("div",null,[d,t(o,{schema:{type:"object",properties:{hookId:{type:"string",description:"Webhook ID"},userId:{type:"string",description:"User ID of webhook creator"},eventId:{type:"string",description:"Event ID"},createdAt:{type:"integer",description:"Date and time of event occurrence (UNIX time, ms)"},type:{type:"string",description:"Event type"},body:{type:"object",description:"Event payload"}}}},null,8,["schema"]),h,p,_,u,m,b,t(o,{schema:{type:"object",properties:{user:{$ref:"ocean://User",description:"User that is followed"}}}}),f,y,t(o,{schema:{type:"object",properties:{user:{$ref:"ocean://User",description:"User that is following you"}}}}),k,w,t(o,{schema:{type:"object",properties:{user:{$ref:"ocean://User",description:"The user being unfollowed"}}}}),P,O,t(o,{schema:{type:"object",properties:{note:{$ref:"ocean://Note",description:"The composed note"}}}}),T,N,t(o,{schema:{type:"object",properties:{note:{$ref:"ocean://Note",description:"The reply"}}}}),x,I,t(o,{schema:{type:"object",properties:{note:{$ref:"ocean://Note",description:"Renote"}}}}),v,j,t(o,{schema:{type:"object",properties:{note:{$ref:"ocean://Note",description:"The note that contains the mention"}}}})])}const C=s(l,[["render",$]]);export{E as __pageData,C as default};
