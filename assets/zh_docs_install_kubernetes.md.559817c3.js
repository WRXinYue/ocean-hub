import{_ as e,o as a,c as r,Q as t}from"./chunks/framework.8f83280a.js";const b=JSON.parse('{"title":"使用Kubernetes/TrueNAS创建Ocean实例","description":"","frontmatter":{},"headers":[],"relativePath":"zh/docs/install/kubernetes.md","filePath":"zh/docs/install/kubernetes.md","lastUpdated":1695022576000}'),s={name:"zh/docs/install/kubernetes.md"},n=t(`<h1 id="使用kubernetes-truenas创建ocean实例" tabindex="-1">使用Kubernetes/TrueNAS创建Ocean实例 <a class="header-anchor" href="#使用kubernetes-truenas创建ocean实例" aria-label="Permalink to &quot;使用Kubernetes/TrueNAS创建Ocean实例&quot;">​</a></h1><p>本篇教程介绍了如何使用Kubernetes和Helm charts安装和设置Ocean，请注意，部分内容为机翻。</p><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>请注意，一旦 Ocean 开始运行，不要更改域名和服务器的主机名。</p></div><h2 id="truecharts-and-truenas-scale" tabindex="-1">TrueCharts and TrueNAS Scale <a class="header-anchor" href="#truecharts-and-truenas-scale" aria-label="Permalink to &quot;TrueCharts and TrueNAS Scale&quot;">​</a></h2><p>Ocean的 Helm chart托管在TrueCharts上，这是一个专为TrueNAS Scale设计的存储库，但它的chart也可以作为普通Helm chart安装。 <a href="https://truecharts.org/charts/incubator/ocean/" target="_blank" rel="noreferrer">TrueCharts</a> 网站列出了所有可用的charts以及安装方式的文档。如果您有疑问，TrueCharts的 <a href="https://discord.gg/Ax9ZgzKx9t" target="_blank" rel="noreferrer">Discord</a> 服务器也是一个可以使用的资源。Ocean 目前处于 <em>incubator</em> train.</p><div class="tip custom-block"><p class="custom-block-title">先决条件</p><ul><li>TrueNAS Scale 或</li><li>Kubernetes 集群和 Helm</li></ul></div><h2 id="truenas-scale" tabindex="-1">TrueNAS Scale <a class="header-anchor" href="#truenas-scale" aria-label="Permalink to &quot;TrueNAS Scale&quot;">​</a></h2><p>按照 <a href="https://truecharts.org/manual/guides/Adding-TrueCharts/" target="_blank" rel="noreferrer">TrueCharts 指南</a>上的说明操作。添加 <em>incubator</em> train, 并安装Ocean应用程序。唯一需要的Ocean配置选项是实例URL。该应用程序还使用Traefik反向代理将服务通过HTTPS暴露给外部世界。TrueCharts默认集成Traefik，但也可以通过手动配置使用其他选项。</p><h2 id="手动安装-helm" tabindex="-1">手动安装 Helm <a class="header-anchor" href="#手动安装-helm" aria-label="Permalink to &quot;手动安装 Helm&quot;">​</a></h2><p>如果您没有使用TrueNAS Scale，您可以直接使用Helm安装Ocean。 values.yaml文件中的ocean对象有您需要根据需要覆盖的选项。ocean.url属性是唯一需要更改的内容。由于chart目前不支持在Ocean容器内启用TLS，建议使用反向代理来保护对服务器的访问。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">helm repo add TrueCharts https://charts.truecharts.org</span></span>
<span class="line"><span style="color:#e1e4e8;">helm repo update</span></span>
<span class="line"><span style="color:#e1e4e8;">helm install ocean TrueCharts/ocean</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">helm repo add TrueCharts https://charts.truecharts.org</span></span>
<span class="line"><span style="color:#24292e;">helm repo update</span></span>
<span class="line"><span style="color:#24292e;">helm install ocean TrueCharts/ocean</span></span></code></pre></div><h2 id="升级-ocean" tabindex="-1">升级 Ocean <a class="header-anchor" href="#升级-ocean" aria-label="Permalink to &quot;升级 Ocean&quot;">​</a></h2><p>要升级Ocean，请使用内置在TrueNAS Scale中的升级功能，或者如果手动运行kubernetes，请使用 <a href="https://helm.sh/docs/helm/helm_repo_update/" target="_blank" rel="noreferrer">helm repo update</a> 与 <a href="https://helm.sh/docs/helm/helm_upgrade/" target="_blank" rel="noreferrer">helm upgrade</a>. 强烈建议在升级之前创建快照，以防出现问题，需要回滚。</p>`,13),l=[n];function c(o,h,u,p,i,d){return a(),r("div",null,l)}const _=e(s,[["render",c]]);export{b as __pageData,_ as default};
